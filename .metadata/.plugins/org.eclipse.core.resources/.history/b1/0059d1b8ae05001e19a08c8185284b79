package com.exercise.exer.question;

import java.util.List;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

import ch.qos.logback.core.model.Model;
import lombok.RequiredArgsConstructor;

//http://localhost:8082/question/list

@RequiredArgsConstructor // questionRepository의 필드에 대한 생성자를 생성한다.
@Controller
public class QuestionController {

	//읽기 전용 필드가 된다. 여기서 question_list.html 에 값을 전송만 해줄 거기 때문에 읽기 전용으로 있어도 된다. 
	private final QuestionRepository questionRepository;

	@GetMapping("/question/list")
	public String list(Model model) {
		//QuestionRepository 인터페이스에 정의된 findAll()메서드를 호출하여 모든 Question 객체를 가져온다. 
		//List<Question>은 여러 개의 Question 객체를 담을 수 있는 리스트(List) "자료구조" 
		//만약 questionList의 변수명을 quesList라고 저장하면 새로운  List<Question>의 자료구조가 생성되어 quesList변수로 저장된다. (다른 값 저장 가능)
		List<Question> questionList = this.questionRepository.findAll();
		model.addAttribute("questionList", questionList);

		return "question_list";
	}

}
